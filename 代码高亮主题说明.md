# 代码高亮主题配置说明

## 修改内容

已为您的博客添加了蓝黑色系的自定义代码高亮主题，配色美观且有区分度。

### 1. 创建的文件

- `themes/typography/source/css/prism-custom.css` - 自定义代码高亮CSS文件

### 2. 修改的文件

- `themes/typography/layout/partial/head.pug` - 在模板头部添加了自定义CSS的引入

## 配色方案

### 背景色
- **代码块背景**: `#1a2332` (深蓝黑色)
- **行内代码背景**: `#2a3441` (稍浅的蓝黑色)

### 文字颜色
- **基础文字**: `#e0e6ed` (浅灰蓝色)
- **注释**: `#6b7d8f` (灰蓝色，斜体)
- **关键字**: `#3498db` (明亮蓝色)
- **字符串**: `#85c1e9` (天蓝色)
- **数字/常量**: `#5dade2` (亮蓝色)
- **函数名**: `#52c9dc` (青色)
- **运算符**: `#f39c12` (橙色，用于区分)
- **变量/重要**: `#e74c3c` (红色，突出显示)
- **标点符号**: `#9db4c8` (浅蓝灰色)

### 其他特性
- 代码块左侧有蓝色边框 (`#4a90e2`)
- 圆角边框和阴影效果
- 自定义滚动条样式
- 选中文本时显示蓝色半透明背景

## 使用方法

### 配置说明

已通过以下方式确保代码高亮主题长期生效：

1. **在 `_config.yml` 中配置了 `custom_css`**：
   ```yaml
   prism_plugin:
     mode: "preprocess"
     theme: "default"
     line_number: true
     custom_css: "themes/typography/source/css/prism-custom.css"
   ```

2. **创建了自动应用脚本 `scripts/apply-prism-theme.js`**：
   - 此脚本会在每次 `hexo generate` 后自动运行
   - 自动将自定义CSS复制到 `public/css/prism.css`
   - 确保即使插件重新生成文件，也会使用我们的自定义主题

3. **添加了语言标签功能**：
   - 代码块右上角会自动显示语言类型（小圆角矩形）
   - 通过 `themes/typography/source/js/prism-language-label.js` 实现
   - 支持多种语言的自动识别和显示

**重要**：此配置是永久性的，每次运行 `hexo generate` 都会自动应用蓝黑色系主题和语言标签，不会丢失。

### 功能特性

- ✅ **代码高亮**：蓝黑色系配色，语法元素有明确的颜色区分
- ✅ **语言标签**：代码块右上角显示语言类型（小圆角矩形）
- ✅ **自动应用**：每次 generate 后自动应用，无需手动操作
- ✅ **持久化**：配置永久保存，不会丢失

### 验证步骤

1. 运行 `hexo clean` 清理生成的文件
2. 运行 `hexo generate` 重新生成静态文件
3. 运行 `hexo server` 启动本地服务器
4. 访问包含代码块的页面（如 Leetcode.md），查看代码高亮效果

**注意**: 如果重新生成后样式仍然没有生效，请确认：
- `_config.yml` 中的 `prism_plugin.custom_css` 配置正确
- `themes/typography/source/css/prism-custom.css` 文件存在且内容正确

## 验证效果

1. 运行 `hexo clean` 清理生成的文件
2. 运行 `hexo generate` 重新生成静态文件
3. 运行 `hexo server` 启动本地服务器
4. 访问包含代码块的页面，查看代码高亮效果

## 自定义调整

如果需要调整配色，可以编辑 `themes/typography/source/css/prism-custom.css` 文件中的颜色值：

- 修改背景色：搜索 `#1a2332` 和 `#2a3441`
- 修改文字颜色：搜索对应的颜色值（如 `#3498db` 用于关键字）
- 修改边框颜色：搜索 `#4a90e2`

修改后重新生成静态文件即可看到效果。

## 技术说明

- 使用 Prism.js 作为代码高亮引擎
- CSS 使用 `!important` 确保覆盖默认样式
- 支持所有 Prism.js 支持的语言
- 兼容行号显示功能

